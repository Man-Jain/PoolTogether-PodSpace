(this["webpackJsonpsample-app"]=this["webpackJsonpsample-app"]||[]).push([[12,13],{3244:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=(r(3361),r(3365),r(3369),r(3373),r(3378),r(3281)),u=(r(3298),r(3264),r(1),r(3331));function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(o){i=!0,a=o}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r,n,i,a,u){try{var c=e[a](u),o=c.value}catch(s){return void r(s)}c.done?t(o):Promise.resolve(o).then(n,i)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){f(a,n,i,u,c,"next",e)}function c(e){f(a,n,i,u,c,"throw",e)}u(void 0)}))}}function d(e){return h.apply(this,arguments)}function h(){return(h=l(i.a.mark((function e(t){var n,s,p,f,d,h,v,y,b,m,w,g,x,k,K,E,P,C,I,A,U,_,B,S,N,M,O,L,T,j,z,V,H,D,F,J,Z,q,G,R,$;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $=function(){return($=l(i.a.mark((function e(t){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.size){e.next=3;break}return e.next=3,B();case 3:return r=c(o(k.entries())[0],2),n=r[0],a=r[1],e.abrupt("return",new Promise((function(e,r){f.ethereumSignMessage({path:a,message:p.stripHexPrefix(t.data),hex:!0}).then((function(t){if(t.success){t.payload.address!==p.toChecksumAddress(n)&&r(new Error("signature doesnt match the right address"));var i="0x".concat(t.payload.signature);e(i)}else r(new Error(t.payload&&t.payload.error||"There was an error signing a message"))}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(e){return $.apply(this,arguments)},G=function(){return(G=l(i.a.mark((function e(t){var r,n,a,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.size){e.next=3;break}return e.next=3,B();case 3:return r=o(k.values())[0],n=new s.Transaction(t,{chain:g(v)}),e.next=7,Z(r,t);case 7:if((a=e.sent).success){e.next=10;break}throw new Error(a.payload.error);case 10:return u=a.payload,n.v=u.v,n.r=u.r,n.s=u.s,e.abrupt("return","0x".concat(n.serialize().toString("hex")));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},q=function(e){return G.apply(this,arguments)},Z=function(e,t){var r=t.nonce,n=t.gasPrice,i=t.gas,a=t.to,u=t.value,c=t.data;return f.ethereumSignTransaction({path:e,transaction:{nonce:r,gasPrice:n,gasLimit:i,to:a,value:u||"",data:c||"",chainId:v}})},J=function(e){return new Promise((function(t,r){C.sendAsync({jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:42},(function(e,n){e&&r(e);var i=n&&n.result;t(null!=i?new w(i).toString(10):null)}))}))},F=function(e){return Promise.all(e.map((function(e){return new Promise(function(){var t=l(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:n=t.sent,r({address:e,balance:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})))},D=function(){return(D=l(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K){e.next=2;break}return e.abrupt("return",[void 0]);case 2:if(!(k.size>0)||t){e.next=4;break}return e.abrupt("return",M());case 4:if(""===x&&(x="m/44'/60'/0'/0"),P){e.next=15;break}return e.prev=6,e.next=9,L();case 9:P=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),e.t0;case 15:return Object(u.generateAddresses)(P,k.size).forEach((function(e){var t=e.dPath,r=e.address;k.set(r,t)})),e.abrupt("return",M());case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)},H=function(e){return D.apply(this,arguments)},V=function(){return(V=l(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(!0);case 2:return t=e.sent,e.abrupt("return",F(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},z=function(){return V.apply(this,arguments)},j=function(){return K?M()[0]:void 0},T=function(){return(T=l(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}throw new Error("a derivation path is needed to get the public key");case 2:return e.prev=2,e.next=5,f.getPublicKey({path:x,coin:"eth"});case 5:if((t=e.sent).success){e.next=8;break}throw new Error(t.payload.error);case 8:return P={publicKey:t.payload.publicKey,chainCode:t.payload.chainCode,path:t.payload.serializedPath},e.abrupt("return",P);case 12:throw e.prev=12,e.t0=e.catch(2),new Error("There was an error accessing your Trezor accounts.");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},L=function(){return T.apply(this,arguments)},O=function(e){var t=o(k.entries()),r=t.findIndex((function(t){return c(t,1)[0]===e}));t.unshift(t.splice(r,1)[0]),k=new Map(t)},M=function(){return Array.from(k.keys())},N=function(){return(N=l(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Unable to derive address from path ".concat(t),e.prev=1,e.next=4,f.ethereumGetAddress({path:t,showOnTrezor:!1});case 4:if((n=e.sent).success){e.next=7;break}throw new Error(r);case 7:return e.abrupt("return",n.payload.address);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(r);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)},S=function(e){return N.apply(this,arguments)},B=function(){return K=!0,H()},_=function(){return E},U=function(){return(U=l(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.isValidPath)(t)){e.next=2;break}return e.abrupt("return",!1);case 2:if(t!==x&&(k=new Map),!r){e.next=17;break}return e.prev=4,e.next=7,S(t);case 7:return n=e.sent,k.set(n,t),x=t,E=!0,e.abrupt("return",!0);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("There was a problem deriving an address from path ".concat(t));case 17:return E=!1,x=t,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)},A=function(e,t){return U.apply(this,arguments)},I=function(){x="",k=new Map,K=!1,C.stop()},e.next=25,r.e(9).then(r.t.bind(null,3519,7));case 25:return n=e.sent,e.next=28,r.e(16).then(r.t.bind(null,3336,7));case 28:return s=e.sent,e.next=31,Promise.resolve().then(r.t.bind(null,3264,7));case 31:return p=e.sent,f=n.default,d=n.DEVICE_EVENT,h=n.DEVICE,v=t.networkId,y=t.email,b=t.appUrl,m=t.rpcUrl,w=t.BigNumber,g=t.networkName,x="",k=new Map,K=!1,E=!1,f.manifest({email:y,appUrl:b}),f.on(d,(function(e){e.type===h.DISCONNECT&&(K=!1,k=new Map)})),(C=Object(a.default)({getAccounts:function(e){H().then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))},signTransaction:function(e,t){q(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},processMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},processPersonalMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},signMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},signPersonalMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},rpcUrl:m})).setPath=A,C.dPath=x,C.enable=B,C.setPrimaryAccount=O,C.getPrimaryAddress=j,C.getAccounts=H,C.getMoreAccounts=z,C.getBalance=J,C.getBalances=F,C.send=C.sendAsync,C.disconnect=I,C.isCustomPath=_,e.abrupt("return",C);case 54:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.rpcUrl,r=e.networkId,n=e.email,a=e.appUrl,u=e.preferred,c=e.label,o=e.iconSrc;return{name:c||"Trezor",svg:e.svg||'\n\t<svg width="40px" height="40px" viewBox="0 0 114 166" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="Styles" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<path d="M17,51.453125 L17,40 C17,17.90861 34.90861,-1.0658141e-14 57,-1.0658141e-14 C79.09139,-1.0658141e-14 97,17.90861 97,40 L97,51.453125 L113.736328,51.453125 L113.736328,139.193359 L57.5,166 L0,139.193359 L0,51.453125 L17,51.453125 Z M37,51.453125 L77,51.453125 L77,40 L76.9678398,40 C76.3750564,29.406335 67.6617997,21 57,21 C46.3382003,21 37.6249436,29.406335 37.0321602,40 L37,40 L37,51.453125 Z M23,72 L23,125 L56.8681641,140.966797 L91,125 L91,72 L23,72 Z" id="Trezor-logo" fill="currentColor"></path>\n\t\t</g>\n\t</svg>\n',iconSrc:o,wallet:function(){var e=l(i.a.mark((function e(u){var c,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.BigNumber,o=u.networkName,e.next=3,d({rpcUrl:t,networkId:r,email:n,appUrl:a,BigNumber:c,networkName:o});case 3:return s=e.sent,e.abrupt("return",{provider:s,interface:{name:"Trezor",connect:s.enable,disconnect:s.disconnect,address:{get:function(){var e=l(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getPrimaryAddress());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},network:{get:function(){var e=l(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},balance:{get:function(){var e=l(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getPrimaryAddress(),e.abrupt("return",t&&s.getBalance(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"hardware",desktop:!0,mobile:!0,osExclusions:["iOS"],preferred:u}}},3298:function(e,t,r){var n=r(64),i=r(25).Buffer,a=r(86),u=r(3329),c=r(337),o=i.from("Bitcoin seed","utf8"),s={private:76066276,public:76067358};function p(e){this.versions=e||s,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function f(e,t,r){var n=i.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var a=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(a,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function l(e){var t=a.createHash("sha256").update(e).digest();return a.createHash("ripemd160").update(t).digest()}Object.defineProperty(p.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(p.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(p.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(p.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===c.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=c.publicKeyCreate(e,!0),this._identifier=l(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(p.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===c.publicKeyVerify(e),"Invalid public key"),this._publicKey=c.publicKeyConvert(e,!0),this._identifier=l(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(p.prototype,"privateExtendedKey",{get:function(){return this._privateKey?u.encode(f(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(p.prototype,"publicExtendedKey",{get:function(){return u.encode(f(this,this.versions.public,this.publicKey))}}),p.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],a=parseInt(e,10);n(a<2147483648,"Invalid index"),i&&(a+=2147483648),r=r.deriveChild(a)}else n(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),r},p.prototype.deriveChild=function(e){var t,r=e>=2147483648,u=i.allocUnsafe(4);if(u.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var o=this.privateKey,s=i.alloc(1,0);o=i.concat([s,o]),t=i.concat([o,u])}else t=i.concat([this.publicKey,u]);var f=a.createHmac("sha512",this.chainCode).update(t).digest(),l=f.slice(0,32),d=f.slice(32),h=new p(this.versions);if(this.privateKey)try{h.privateKey=c.privateKeyTweakAdd(this.privateKey,l)}catch(v){return this.deriveChild(e+1)}else try{h.publicKey=c.publicKeyTweakAdd(this.publicKey,l,!0)}catch(v){return this.deriveChild(e+1)}return h.chainCode=d,h.depth=this.depth+1,h.parentFingerprint=this.fingerprint,h.index=e,h},p.prototype.sign=function(e){return c.sign(e,this.privateKey).signature},p.prototype.verify=function(e,t){return c.verify(e,t,this.publicKey)},p.prototype.wipePrivateData=function(){return this._privateKey&&a.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},p.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},p.fromMasterSeed=function(e,t){var r=a.createHmac("sha512",o).update(e).digest(),n=r.slice(0,32),i=r.slice(32),u=new p(t);return u.chainCode=i,u.privateKey=n,u},p.fromExtendedKey=function(e,t){var r=new p(t=t||s),i=u.decode(e),a=i.readUInt32BE(0);n(a===t.private||a===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var c=i.slice(45);return 0===c.readUInt8(0)?(n(a===t.private,"Version mismatch: version does not match private"),r.privateKey=c.slice(1)):(n(a===t.public,"Version mismatch: version does not match public"),r.publicKey=c),r},p.fromJSON=function(e){return p.fromExtendedKey(e.xpriv)},p.HARDENED_OFFSET=2147483648,e.exports=p},3329:function(e,t,r){"use strict";var n=r(171),i=r(3330);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},3330:function(e,t,r){"use strict";var n=r(172),i=r(25).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},3331:function(e,t,r){"use strict";r.r(t),r.d(t,"generateAddresses",(function(){return s})),r.d(t,"isValidPath",(function(){return p}));var n=r(3298),i=r.n(n),a=r(3264),u=r(1),c=a.publicToAddress,o=a.toChecksumAddress;function s(e,t){var r=e.publicKey,n=e.chainCode,a=e.path,s=new i.a;s.publicKey=new u.Buffer(r,"hex"),s.chainCode=new u.Buffer(n,"hex");for(var p=[],f=t;f<5+t;f++){var l=s.deriveChild(f),d=c(l.publicKey,!0).toString("hex");p.push({dPath:"".concat(a,"/").concat(f),address:o(d)})}return p}function p(e){var t=e.split("/");if("m"!==t[0])return!1;if("44'"!==t[1])return!1;if("60'"!==t[2]&&"1'"!==t[2])return!1;if(void 0===t[3])return!0;var r=Number(t[3][0]);if(isNaN(r)||r<0||"'"!==t[3][1])return!1;if(void 0===t[4])return!0;var n=Number(t[4][0]);if(isNaN(n)||n<0)return!1;if(void 0===t[5])return!0;var i=Number(t[5][0]);return!(isNaN(i)||i<0)}}}]);
//# sourceMappingURL=12.3b3bf2b6.chunk.js.map